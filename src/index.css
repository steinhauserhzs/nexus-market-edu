@tailwind base;
@tailwind components;
@tailwind utilities;

@import './components/ui/line-clamp.css';
@import './components/member-area/netflix-style/netflix-styles.css';

/* Kirvano Design System - Modern Business Theme */

@layer base {
  :root {
    /* Kirvano Primary Brand - Professional Blue */
    --background: 240 10% 3.9%; /* Deep navy */
    --foreground: 0 0% 98%;
    
    /* Primary Brand Colors - Deep Professional Blue */
    --primary: 217 91% 60%; /* Kirvano signature blue */
    --primary-foreground: 0 0% 98%;
    --primary-hover: 217 91% 55%;
    --primary-glow: 217 91% 70%;
    
    /* Secondary & Accent */
    --secondary: 240 4.8% 15%; /* Charcoal gray */
    --secondary-foreground: 0 0% 98%;
    
    --accent: 220 14.3% 95.9%; /* Light blue accent */
    --accent-foreground: 240 10% 3.9%;
    
    /* Status Colors */
    --success: 142 76% 36%;
    --success-foreground: 0 0% 98%;
    
    --warning: 45 93% 47%;
    --warning-foreground: 0 0% 98%;
    
    --error: 0 72% 51%;
    --error-foreground: 0 0% 98%;
    
    /* Surface Colors - Professional Grays */
    --card: 240 10% 8%; /* Slightly lighter than background */
    --card-foreground: 0 0% 95%;
    
    --muted: 240 3.7% 15.9%; /* Muted gray */
    --muted-foreground: 240 5% 64.9%;
    
    --popover: 240 10% 8%;
    --popover-foreground: 0 0% 95%;
    
    /* Interactive Elements */
    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 217 91% 60%;
    
    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 98%;
    
    /* Kirvano Specific Colors */
    --sidebar-bg: 240 10% 5%; /* Darker sidebar */
    --header-bg: 240 10% 8%;
    --metric-bg: 240 6% 10%;
    --chart-grid: 240 3.7% 20%;
    
    /* Gradients */
    --gradient-primary: linear-gradient(135deg, hsl(217 91% 60%), hsl(217 91% 70%));
    --gradient-card: linear-gradient(145deg, hsl(240 10% 8%), hsl(240 6% 10%));
    --gradient-sidebar: linear-gradient(180deg, hsl(240 10% 5%), hsl(240 8% 6%));
    
    /* Shadows */
    --shadow-card: 0 4px 24px -2px hsl(240 10% 3% / 0.12);
    --shadow-elevated: 0 8px 32px -4px hsl(240 10% 3% / 0.18);
    --shadow-glow: 0 0 40px hsl(217 91% 60% / 0.15);
    
    /* Animations */
    --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-bounce: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }
  
  /* Base Styles */
  * {
    border-color: hsl(var(--border));
  }
  
  body {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
  }
  
  /* Animation Keyframes */
  @keyframes gradient-x {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }
  
  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }
  
  @keyframes pulse-glow {
    0%, 100% { box-shadow: 0 0 20px hsl(var(--primary) / 0.3); }
    50% { box-shadow: 0 0 40px hsl(var(--primary) / 0.6); }
  }
  
  @keyframes slide-up {
    from { transform: translateY(20px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }
  
  /* Utility Classes */
  .gradient-text {
    background: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--primary-glow)));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .glass-effect {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }
  
  .animate-gradient {
    background-size: 200% 200%;
    animation: gradient-x 3s ease infinite;
  }
  
  .animate-float {
    animation: float 3s ease-in-out infinite;
  }
  
  .animate-pulse-glow {
    animation: pulse-glow 2s ease-in-out infinite;
  }
  
  .animate-slide-up {
    animation: slide-up 0.6s ease-out;
  }
  
  /* Custom Scrollbar */
  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-track {
    background: hsl(var(--muted));
    border-radius: 3px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: hsl(var(--primary));
    border-radius: 3px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--primary-hover));
  }
    
    /* Additional System Variables */
    --radius: 0.5rem;
    
    /* Netflix Card Dimensions */
    --netflix-card-width: 110px;
    --netflix-card-aspect: 2/3;
    --netflix-carousel-gap: 0.5rem;
  }

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }
  
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* PWA and Mobile Optimizations */
  .touch-pan-y {
    touch-action: pan-y;
  }

  /* Smooth scrolling for mobile */
  html {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
    overflow-x: hidden;
    max-width: 100vw;
  }

  /* Global media responsiveness */
  img, video, canvas, iframe {
    max-width: 100%;
    height: auto;
  }

  /* Safe overflow defaults */
  #root, body {
    overflow-x: hidden;
    max-width: 100vw;
  }
  /* Better touch targets for mobile */
  button, input, select, textarea, a {
    min-height: 48px;
    min-width: 48px;
  }

  /* Mobile-specific improvements */
  @media screen and (max-width: 768px) {
    input[type="text"],
    input[type="email"],
    input[type="password"],
    input[type="number"],
    input[type="search"],
    textarea,
    select {
      font-size: 16px !important;
      transform: translateZ(0);
      border-radius: 12px;
      min-height: 48px;
    }
    
    /* Better spacing for mobile - ensure no edge touching */
    .container {
      padding-left: 1rem;
      padding-right: 1rem;
      max-width: calc(100vw - 2rem);
    }
    
    /* Page content spacing */
    body {
      padding: 0;
      margin: 0;
    }
    
    /* Improved card layouts */
    .card-grid {
      grid-template-columns: 1fr;
      gap: 1rem;
      padding: 0 1rem;
    }
    
    /* Ensure all interactive elements are properly sized */
    .btn-mobile {
      min-height: 48px;
      min-width: 48px;
      padding: 12px 16px;
    }
    
    /* Better modal and sheet spacing */
    .modal-content {
      margin: 1rem;
      max-width: calc(100vw - 2rem);
      max-height: calc(100vh - 2rem);
    }
    
  /* Navigation improvements */
  .mobile-nav {
    padding-bottom: env(safe-area-inset-bottom);
    z-index: 80 !important;
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-top: 1px solid hsl(var(--border) / 0.3);
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
  }
  
  .mobile-nav-item {
    @apply transition-all duration-200 ease-in-out;
  }
  
  .mobile-nav-item.active {
    @apply scale-105;
  }
  
  .mobile-nav-admin {
    @apply bg-red-50/10 border border-red-500/20 text-red-600;
  }
  
  .mobile-nav-admin:hover {
    @apply bg-red-100/20 text-red-700;
  }
  }

  /* Small mobile devices */
  @media screen and (max-width: 480px) {
    .container {
      padding-left: 1rem;
      padding-right: 1rem;
      max-width: calc(100vw - 2rem);
    }
    
    /* Responsive typography */
    h1 {
      font-size: clamp(1.5rem, 5vw, 2rem) !important;
      line-height: 1.2;
      margin-bottom: 1rem;
    }
    
    h2 {
      font-size: clamp(1.25rem, 4vw, 1.5rem) !important;
      line-height: 1.3;
      margin-bottom: 0.75rem;
    }
    
    h3 {
      font-size: clamp(1.125rem, 3vw, 1.25rem) !important;
      line-height: 1.4;
    }
    
    p {
      font-size: 0.9rem;
      line-height: 1.5;
    }
    
    /* Better button spacing */
    .btn-group {
      gap: 0.75rem;
      flex-direction: column;
    }
    
    .btn-group > * {
      width: 100%;
    }
    
    /* Card improvements */
    .card {
      margin: 0.5rem;
      border-radius: 16px;
    }
    
    /* Form improvements */
    .form-group {
      margin-bottom: 1.5rem;
    }
    
    .form-control {
      padding: 12px 16px;
      font-size: 16px !important;
    }
    
  /* Enhanced mobile responsiveness */
  .flex-col-mobile {
    flex-direction: column;
  }
  
  .gap-mobile {
    gap: 0.5rem;
  }
  
  .text-mobile {
    font-size: 0.75rem;
  }
  
  .px-mobile {
    padding-left: 0.5rem;
    padding-right: 0.5rem;
  }

  /* Mobile scroll optimization */
  .scroll-smooth-mobile {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }

  /* Touch gestures */
  .touch-friendly {
    touch-action: manipulation;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
  }

  /* Prevent zoom on input focus */
  @media screen and (max-width: 768px) {
    input[type="search"]::-webkit-search-decoration,
    input[type="search"]::-webkit-search-cancel-button,
    input[type="search"]::-webkit-search-results-button,
    input[type="search"]::-webkit-search-results-decoration {
      display: none;
    }
    
    /* Better text rendering on mobile */
    body {
      -webkit-text-size-adjust: 100%;
      text-size-adjust: 100%;
    }
  }
  }
  
  /* Extra small screens */
  @media (max-width: 374px) {
    .container {
      padding-left: 0.5rem;
      padding-right: 0.5rem;
    }
    
    .p-4 {
      padding: 0.75rem;
    }
    
    .gap-4 {
      gap: 0.5rem;
    }
    
    .text-sm {
      font-size: 0.75rem;
    }
    
    .space-y-4 > :not([hidden]) ~ :not([hidden]) {
      margin-top: 0.75rem;
    }
    
    /* Button optimizations for very small screens */
    .btn-xs {
      padding: 0.25rem 0.5rem;
      font-size: 0.75rem;
    }
  }

  /* PWA safe areas */
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Netflix-style responsive fixes */
  .netflix-card-container {
    width: var(--netflix-card-width);
    min-width: var(--netflix-card-width);
  }

  /* Better mobile spacing */
  @media screen and (max-width: 640px) {
    .container {
      padding-left: 1rem;
      padding-right: 1rem;
    }
    
    .netflix-card-container {
      width: 140px;
      min-width: 140px;
    }
    
    :root {
      --netflix-card-width: 140px;
    }
  }

  /* Enhanced responsive grid */
  .responsive-grid {
    display: grid;
    gap: 1rem;
    grid-template-columns: 1fr;
  }

  @media (min-width: 640px) {
    .responsive-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 1.5rem;
    }
  }

  @media (min-width: 768px) {
    .responsive-grid {
      grid-template-columns: repeat(3, 1fr);
      gap: 2rem;
    }
  }

  @media (min-width: 1024px) {
    .responsive-grid {
      grid-template-columns: repeat(4, 1fr);
    }
  }

  /* Improved button responsiveness */
  .mobile-friendly-button {
    min-height: 44px;
    min-width: 44px;
    padding: 0.75rem 1rem;
    font-size: 0.875rem;
  }

  @media (max-width: 640px) {
    .mobile-friendly-button {
      padding: 0.5rem 0.75rem;
      font-size: 0.75rem;
    }
  }

  /* Fixed header heights */
  .fixed-header {
    height: 64px;
  }

  @media (max-width: 768px) {
    .fixed-header {
      height: 56px;
    }
  }

  /* Netflix card hover improvements */
  .netflix-card:hover {
    transform: scale(1.05);
    z-index: 20;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  }

  /* Fix for dropdown and menu z-index hierarchy */
  .dropdown-fix {
    z-index: 100 !important;
    background: hsl(var(--card)) !important;
    backdrop-filter: blur(16px) !important;
    border: 1px solid hsl(var(--border)) !important;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 255, 255, 0.1) !important;
  }

  /* Navigation menu improvements */
  .nav-menu-content {
    background: hsl(var(--card)) !important;
    backdrop-filter: blur(16px) !important;
    border: 1px solid hsl(var(--border)) !important;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 255, 255, 0.1) !important;
  }

  /* Mobile menu improvements */
  .mobile-menu-backdrop {
    backdrop-filter: blur(12px) !important;
    background: rgba(0, 0, 0, 0.9) !important;
  }

  /* Better mobile sheet styling */
  .mobile-sheet {
    background: hsl(var(--card)) !important;
    backdrop-filter: blur(16px) !important;
    border-left: 2px solid hsl(var(--accent)) !important;
    box-shadow: -10px 0 50px -12px rgba(0, 0, 0, 0.8) !important;
  }

  /* Enhanced menu item visibility */
  .menu-item-enhanced {
    background: transparent !important;
    border: 1px solid transparent !important;
    transition: all 0.2s ease !important;
  }

  .menu-item-enhanced:hover {
    background: hsl(var(--accent) / 0.1) !important;
    border-color: hsl(var(--accent) / 0.3) !important;
    transform: translateY(-1px) !important;
  }

  .menu-item-enhanced:focus {
    background: hsl(var(--accent) / 0.2) !important;
    border-color: hsl(var(--accent)) !important;
    outline: none !important;
  }

  /* Professional Icon Centering System */
  .icon-center {
    @apply flex items-center justify-center;
  }
  
  .icon-center-inline {
    @apply inline-flex items-center justify-center;
  }
  
  /* Precise Icon Sizes */
  .icon-xs { @apply w-3 h-3; }
  .icon-sm { @apply w-4 h-4; }
  .icon-md { @apply w-5 h-5; }
  .icon-lg { @apply w-6 h-6; }
  .icon-xl { @apply w-8 h-8; }
  
  /* Perfect Button Icon Alignment */
  .btn-icon-center {
    @apply flex items-center justify-center gap-0;
  }
  
  .btn-icon-left {
    @apply flex items-center gap-2;
  }
  
  /* Professional Touch Targets */
  .touch-target-sm { @apply min-h-[40px] min-w-[40px]; }
  .touch-target-md { @apply min-h-[44px] min-w-[44px]; }
  .touch-target-lg { @apply min-h-[48px] min-w-[48px]; }
  
  /* Precise Spacing System */
  .space-uniform-xs > * { @apply mx-1; }
  .space-uniform-sm > * { @apply mx-2; }
  .space-uniform-md > * { @apply mx-3; }
  
  /* Perfect Badge Positioning */
  .badge-position-tr {
    @apply absolute -top-1 -right-1;
  }
  
  .badge-position-tl {
    @apply absolute -top-1 -left-1;
  }
  
  /* Avatar Perfect Centering */
  .avatar-center {
    @apply flex items-center justify-center overflow-hidden;
  }
  
  /* Logo Perfect Centering */
  .logo-center {
    @apply flex items-center justify-center text-center leading-none;
  }

  /* Mobile navigation spacing with improved z-index */
  .mobile-nav-space {
    padding-bottom: 80px;
  }

  @media (min-width: 768px) {
    .mobile-nav-space {
      padding-bottom: 0;
    }
  }

  /* Global z-index hierarchy fixes */
  .z-dropdown { z-index: 100 !important; }
  .z-sheet { z-index: 95 !important; }
  .z-overlay { z-index: 90 !important; }
  .z-nav { z-index: 80 !important; }
  .z-header { z-index: 60 !important; }

  /* Ensure all menus have proper backgrounds */
  [data-radix-dropdown-content],
  [data-radix-navigation-menu-content],
  [data-radix-sheet-content] {
    background: hsl(var(--popover) / 0.95) !important;
    backdrop-filter: blur(12px) !important;
    border: 1px solid hsl(var(--border) / 0.5) !important;
  }
}